# Example ACM Policy Configuration File

policyName: deploy-nfd-crd-policy
namespace: day2-acm-policy
remediationAction: enforce

# Optional: Compliance type (musthave or mustnothave)
# complianceType: musthave

# Optional: Prune object behavior (none, DeleteAll, or DeleteIfCreated)
# Controls what happens to objects when they are removed from the policy
# - none: Do not prune objects
# - DeleteAll: Delete all objects managed by this policy
# - DeleteIfCreated: Only delete objects that were created by this policy
pruneObjectBehavior: none

# List of YAML files to include in the policy
files:
  - nfd-operator-crd/node-feature-discovery.yaml
  # Add more files as needed:
  # - path/to/another-file.yaml

# Option 1: Use cluster selectors (requires PlacementBinding)
# clusterSelectors:
#   environment: test
#   region: local
#   cluster-type: worker
#   # Add more selectors as needed

# Option 2: Use cluster sets
clusterSets:
  - site1
  # Add more cluster sets as needed:
  # - site2
  # - production

# Optional: Placement labels for matchExpressions (works with cluster sets)
# These labels match against labels on ManagedClusters (not cluster set labels)
# The matchExpressions select which managed clusters receive the policy
# Format 1: Full format with operator
placementLabels:
  - key: day2
    operator: In
    values: ["all"]
# Format 2: Simple format (defaults to In operator)
# placementLabels:
#   - environment: ["dev", "test"]
#   - region: ["us-east-1"]
# 
# Example: This will select managed clusters that have the label "day2=all"
# The Placement will create matchExpressions that filter clusters from the cluster sets

# Optional: Custom output directory name
# If not specified, defaults to: acm-policy-<policyName>
# outputDir: my-custom-output-dir

# Optional: Create base/overlays structure (GitOps-friendly)
# Set to true to create a base/overlays directory structure
# useBaseOverlays: false

